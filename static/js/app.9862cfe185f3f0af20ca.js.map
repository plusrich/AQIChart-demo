{"version":3,"sources":["webpack:///./static/citiesInAQIRange.js","webpack:///./static/topFiveAirQualityCity.js","webpack:///src/components/city.vue","webpack:///./src/components/city.vue?3a29","webpack:///./src/components/city.vue","webpack:///src/components/chart.vue","webpack:///./src/components/chart.vue?9d5c","webpack:///./src/components/chart.vue","webpack:///src/components/home.vue","webpack:///./src/components/home.vue?f04d","webpack:///./src/components/home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?6fe8","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["module","exports","arr","property","a","b","c","d","e","dd","aqi","value","name","visualMap","prop","i","length","j","isNaN","temp","slice","components_city","Object","selectortype_template_index_0_src_components_city","render","_h","this","$createElement","_c","_self","attrs","id","type","cityName","on","click","selectThisCity","_v","for","_s","staticRenderFns","src_components_city","__webpack_require__","normalizeComponent","ssrContext","chart","Array","_iteratorNormalCompletion","ad","_step","l","_step2","city","cor","cors","_this","file","then","response","data","catch","error","_this2","drawChart","day","_this3","index","nc","cityInRange","opts","components_chart","_m","home","coordinate","category","chart_normalizeComponent","components_home","_vm","_l","cities","key","$event","showCityList","toUpperCase","class","rotate1","cityList","includes","rotate2","src","arrow_icon","directives","rawName","expression","ct","showCity","showCityOnMap","deleteCity","deleteCityOnMap","locate","cityCoordinates","App","Home","home_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","el","components","template"],"mappings":"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","file":"static/js/app.9862cfe185f3f0af20ca.js","sourcesContent":["let citiesInAQIRange = (arr, property) => {\r\n    let a = 0, b = 0, c = 0, d = 0, e = 0;\r\n            for (var dd of arr) {\r\n                let aqi = dd[property][2];\r\n                if (aqi === '-') {\r\n                    continue;\r\n                } else if (aqi < 51) {\r\n                    a += 1;\r\n                } else if (aqi < 101) {\r\n                    b += 1;\r\n                } else if (aqi < 201) {\r\n                    c += 1;\r\n                } else if (aqi < 301) {\r\n                    d += 1;\r\n                } else {\r\n                    e += 1;\r\n                }\r\n            }\r\n            return [\r\n                        {\"value\": a, \"name\": \"优\", \"visualMap\": false},\r\n                        {\"value\": b, \"name\": \"良\", \"visualMap\": false},\r\n                        {\"value\": c, \"name\": \"轻度污染\", \"visualMap\": false},\r\n                        {\"value\": d, \"name\": \"中度污染\", \"visualMap\": false},\r\n                        {\"value\": e, \"name\": \"重度污染\", \"visualMap\": false}\r\n                    ];\r\n};\r\n\r\nmodule.exports = citiesInAQIRange;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/citiesInAQIRange.js\n// module id = +eEh\n// module chunks = 1","let topFiveAirQualityCity = (arr, prop) => {\r\n    for (var i = 0;i < arr.length;i++) {\r\n        for (var j = 0;j < arr.length-i-1;j++) {\r\n            if (arr[j][prop][2] > arr[j+1][prop][2] || isNaN(arr[j][prop][2])) {\r\n                let temp = arr[j];\r\n                arr[j] = arr[j+1];\r\n                arr[j+1] = temp;\r\n            }\r\n        }\r\n    }\r\n    return arr.slice(0, 5);\r\n};\r\n\r\nmodule.exports = topFiveAirQualityCity;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/topFiveAirQualityCity.js\n// module id = MNID\n// module chunks = 1","<template>\r\n  <div id=\"category\">\r\n      <span>\r\n          <input type=\"checkbox\" :id=\"cityName\" @click=\"selectThisCity\">\r\n          <label :for=\"cityName\">{{cityName}}</label>\r\n      </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n      c: {\r\n          type: Object,\r\n          required: true\r\n      }\r\n  },\r\n  data() {\r\n      return {\r\n          cityName: Object.keys(this.c)[0]\r\n      }\r\n  },\r\n  methods: {\r\n      selectThisCity: function(e) {\r\n          if(e.target.checked === true) {\r\n              this.$emit('showCity', this.c);\r\n          } else {\r\n              this.$emit('deleteCity', this.c);\r\n          }\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#category {\r\n    display: inline;\r\n    margin-right: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/city.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"category\"}},[_c('span',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":_vm.cityName},on:{\"click\":_vm.selectThisCity}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.cityName}},[_vm._v(_vm._s(_vm.cityName))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35ffbc68\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/city.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35ffbc68\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./city.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./city.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./city.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35ffbc68\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./city.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35ffbc68\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/city.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n      <div id=\"main\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport echarts from 'echarts'\r\nimport topFiveAirQualityCity from '../../static/topFiveAirQualityCity.js'\r\nimport citiesInAQIRange from '../../static/citiesInAQIRange.js'\r\n\r\nexport default {\r\n  name: 'Chart',\r\n  data() {\r\n        return {\r\n            day: [],\r\n            aqiData: [],\r\n            option: {\r\n                baseOption: {\r\n                    title: [\r\n                        {\r\n                            textStyle: {\r\n                                color: \"white\",\r\n                                fontFamily: \"Microsoft YaHei\",\r\n                                //fontStyle: \"oblique\",\r\n                                //fontWeight: \"bolder\",\r\n                            },\r\n                            left: \"center\"\r\n                        },\r\n                        {\r\n                            text: \"空气质量Top 5城市\",\r\n                            top: 100,\r\n                            left: 50,\r\n                            textStyle: {\r\n                                color: \"white\",\r\n                                fontSize: 16\r\n                            }\r\n                        },\r\n                        {\r\n                            text: \"空气质量比例\",\r\n                            top: 180,\r\n                            right: 120,\r\n                            textStyle: {\r\n                                color: \"white\",\r\n                                fontSize: 16\r\n                            }\r\n                        }\r\n                    ],\r\n                    legend: [\r\n                        {\r\n                            data: [\"PM 2.5\"],\r\n                            right: 0,\r\n                            bottom: 0,\r\n                            textStyle: {\r\n                                color: \"white\"\r\n                            }\r\n                        },\r\n                        {\r\n                            top: 260,\r\n                            right: 0,\r\n                            orient: \"vertical\",\r\n                            data: [\"优\", \"良\", \"轻度污染\", \"中度污染\", \"重度污染\"],\r\n                            textStyle: {\r\n                                color: \"white\"\r\n                            }\r\n                        },\r\n                    ],\r\n                    tooltip: {\r\n                        //trigger: \"item\"\r\n                    },\r\n                    geo: {\r\n                        map: \"china\",\r\n                        roam: true,\r\n                        label: {\r\n                            emphasis: {\r\n                                show: false\r\n                            }\r\n                        },\r\n                        itemStyle: {\r\n                            normal: {\r\n                                areaColor: '#323c48',\r\n                                borderColor: '#111'\r\n                            },\r\n                            emphasis: {\r\n                                areaColor: '#2a333d'\r\n                            }     \r\n                        }\r\n                    },\r\n                    backgroundColor: \"#404a59\",\r\n                    visualMap: [\r\n                        {\r\n                            show: true,\r\n                            type: \"continuous\",\r\n                            min: 0,\r\n                            max: 200,\r\n                            seriesIndex: 0,\r\n                            calculable: true,\r\n                            inRange: {\r\n                                color: ['#50a3ba','#eac736','#d94e5d']\r\n                            },\r\n                            textStyle: {\r\n                                color: \"#fff\"\r\n                            }\r\n                        },\r\n                        {\r\n                            show: false,\r\n                            type: \"continuous\",\r\n                            min: 0,\r\n                            max: 200,\r\n                            dimension: 0,\r\n                            seriesIndex: 1,\r\n                            calculable: true,\r\n                            inRange: {\r\n                                color: ['#50a3ba','#eac736','#d94e5d']\r\n                            },\r\n                            textStyle: {\r\n                                color: \"#fff\"\r\n                            }\r\n                        }\r\n                    ],\r\n                    timeline: {\r\n                        show: true,\r\n                        axisType: \"category\",\r\n                        autoPlay: true,\r\n                        playInterval: 1000,\r\n                        data: ['2015-01-05', '2015-01-06', '2015-01-07', '2015-01-08'],\r\n                        lineStyle: {\r\n                            color: \"white\"\r\n                        },\r\n                        label: {\r\n                            color: \"white\"\r\n                        },\r\n                        controlStyle: {\r\n                            color: \"white\",\r\n                            borderColor: \"white\"\r\n                        }\r\n                    },\r\n                    grid: [\r\n                        {\r\n                            show: true,\r\n                            left: 60,\r\n                            top: 170,\r\n                            width: 200,\r\n                            height: 200,\r\n                            borderWidth: 0\r\n                        }\r\n                    ],\r\n                    xAxis: [\r\n                        {\r\n                            type: \"value\",\r\n                            min: 0,\r\n                            max: 200,\r\n                            splitNumber: 4,\r\n                            splitLine: {\r\n                                show: false\r\n                            },\r\n                            position: \"top\",\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                color: \"#aaa\"\r\n                            }\r\n                        }\r\n                    ],\r\n                    yAxis: [\r\n                        {\r\n                            type: \"category\",\r\n                            inverse: true,\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                color: \"#aaa\"\r\n                            }\r\n                        }\r\n                    ],\r\n                    series: [\r\n                        {\r\n                            name: \"PM 2.5\",\r\n                            type: \"scatter\",\r\n                            coordinateSystem: \"geo\",\r\n                            itemStyle: {\r\n                                color: \"white\"\r\n                            },\r\n                            tooltip: {\r\n                                formatter: function (params) {\r\n                                    return params.name + ' : ' + params.value[2];\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type: \"bar\"\r\n                        },\r\n                        {\r\n                            type: \"pie\",\r\n                            radius: \"20%\",\r\n                            center: [800, 320],\r\n                            color: ['rgb(80,163,186)','rgb(135,176,137)','rgb(232,198,55)','rgb(224,130,76)','rgb(217,78,93)']\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n        };\r\n  },\r\n  props: {\r\n      locate: {\r\n          type: Array,\r\n          required: true\r\n      }\r\n  },\r\n  computed: {\r\n      coordinates: function() {\r\n          let cors = [];\r\n          for (var ad of this.aqiData) {\r\n              let cor = [];\r\n              for (var l of this.locate) {\r\n                  let city = Object.keys(l)[0];\r\n                  cor.push({\r\n                    name: city,\r\n                    value: [l[city][0], l[city][1], ad[city] ? Number(ad[city]) : '-']\r\n                  })\r\n              }\r\n              cors.push(cor);\r\n          }\r\n          return cors;\r\n      }\r\n  },\r\n  methods: {\r\n      drawChart: function() {\r\n          let myChart = echarts.init(document.getElementById('main'));\r\n          myChart.setOption(this.option, true);\r\n      },\r\n      requestAQIData: function(file) {\r\n          axios.get('../../static/cityAQI/' + file)\r\n          .then( (response) => {\r\n            this.aqiData.push(response.data);\r\n            this.day.push(file.slice(0, -5));\r\n          })\r\n          .catch( (error) => {\r\n            console.log(error);\r\n          })\r\n      }\r\n  },\r\n  mounted: function() {\r\n      axios.get('../../static/china.json')\r\n      .then( (response) => {\r\n          echarts.registerMap('china', response.data);\r\n          this.drawChart();\r\n      }).catch( (error) => {\r\n          console.log(error);\r\n      })\r\n      this.requestAQIData('2015-01-05.json');\r\n      this.requestAQIData('2015-01-06.json');\r\n      this.requestAQIData('2015-01-07.json');\r\n      this.requestAQIData('2015-01-08.json');\r\n      console.log(this.day);\r\n  },\r\n  watch: {\r\n      coordinates: function(newCity) {\r\n          let opts = newCity.map( (nc,index) => {\r\n              let topFive = topFiveAirQualityCity(nc, 'value');\r\n              let cityInRange = citiesInAQIRange(nc, 'value');\r\n              return {\r\n                  title: [\r\n                      {\r\n                          text: this.day[index] + ' 全国部分城市空气质量'\r\n                      },\r\n                      {\r\n                          subtext: this.day[index]\r\n                      },\r\n                      {\r\n                          subtext: this.day[index]\r\n                      },\r\n                  ],\r\n                  yAxis: {\r\n                      data: topFive.map( d => {return d.name} )\r\n                  },\r\n                  series: [\r\n                      {\r\n                          data: nc\r\n                      },\r\n                      {\r\n                          data: topFive.map( d => {return d.value[2]} )\r\n                      },\r\n                      {\r\n                          data: cityInRange\r\n                      }\r\n                  ]\r\n              }\r\n          });\r\n          this.option.options = opts;\r\n          this.drawChart();\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n#main {\r\n    width: 1000px;\r\n    height: 540px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"main\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c9ad9742\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c9ad9742\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c9ad9742\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c9ad9742\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chart.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"home\">\r\n    <h3 id=\"title\">请选择城市</h3>\r\n    <div>\r\n      <div id=\"option\" v-for=\"(cities, category) in datas\" :key=\"category\">\r\n        <div id=\"menu\" @click=\"showCityList(category)\">\r\n          <h3 id=\"letter\" >{{category.toUpperCase()}}</h3>\r\n          <img id=\"arrow\" \r\n            :class=\"[{rotate1: !cityList.includes(category)}, {rotate2: cityList.includes(category)}]\" \r\n            :src='arrow_icon'\r\n          >\r\n        </div>\r\n        <div id=\"items\" v-show=\"cityList.includes(category)\">\r\n          <city v-for=\"(ct, index) in cities\" :key=\"index\" :c=\"ct\" \r\n            @showCity='showCityOnMap'\r\n            @deleteCity='deleteCityOnMap'\r\n          >\r\n          </city>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <chart :locate='cityCoordinates'></chart>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport city from './city'\r\nimport chart from './chart'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    return {\r\n      datas: '',\r\n      cityCoordinates: [],\r\n      arrow_icon: '../../static/arrow.png',\r\n      cityList: []\r\n    }\r\n  },\r\n  methods: {\r\n    showCityOnMap: function(coordinate) {\r\n      this.cityCoordinates.push(coordinate);\r\n    },\r\n    deleteCityOnMap: function(coordinate) {\r\n      for (var i = 0;i < this.cityCoordinates.length;i++) {\r\n        if (coordinate === this.cityCoordinates[i]) {\r\n          this.cityCoordinates.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n    showCityList: function(category) {\r\n      if (this.cityList.includes(category)) {\r\n        let cate = function(c) {\r\n          return c === category;\r\n        };\r\n        this.cityList.splice(this.cityList.findIndex(cate), 1);\r\n      } else {\r\n        this.cityList.push(category);\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {\r\n    axios.get('../../static/classifiedCoordinates.json')\r\n    .then( (response) => {\r\n      this.datas = response.data;\r\n    })\r\n    .catch( (error) => {\r\n      console.log(error);\r\n    });\r\n  },\r\n  components: {\r\n    city,\r\n    chart,\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#title {\r\n  position: absolute;\r\n  top: 20px;\r\n  margin: 0;\r\n}\r\n#home {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n#option {\r\n    display: flex;\r\n    flex-flow: column wrap;\r\n    align-items: flex-start;\r\n    width: 180px;\r\n    background-color: white;\r\n    border-bottom: 3px solid #F0F8FF;\r\n}\r\n#menu {\r\n  height: 30px;\r\n  width: 180px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n#arrow {\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  right: 10px;\r\n  background-color: red;\r\n}\r\n#letter {\r\n    margin-left: 5px;\r\n    display: inline-block;\r\n}\r\n#items {\r\n  width: 180px;\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n}\r\n.rotate1 {\r\n  transform: rotate(0);\r\n}\r\n.rotate2 {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('h3',{attrs:{\"id\":\"title\"}},[_vm._v(\"请选择城市\")]),_vm._v(\" \"),_c('div',_vm._l((_vm.datas),function(cities,category){return _c('div',{key:category,attrs:{\"id\":\"option\"}},[_c('div',{attrs:{\"id\":\"menu\"},on:{\"click\":function($event){_vm.showCityList(category)}}},[_c('h3',{attrs:{\"id\":\"letter\"}},[_vm._v(_vm._s(category.toUpperCase()))]),_vm._v(\" \"),_c('img',{class:[{rotate1: !_vm.cityList.includes(category)}, {rotate2: _vm.cityList.includes(category)}],attrs:{\"id\":\"arrow\",\"src\":_vm.arrow_icon}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cityList.includes(category)),expression:\"cityList.includes(category)\"}],attrs:{\"id\":\"items\"}},_vm._l((cities),function(ct,index){return _c('city',{key:index,attrs:{\"c\":ct},on:{\"showCity\":_vm.showCityOnMap,\"deleteCity\":_vm.deleteCityOnMap}})}))])})),_vm._v(\" \"),_c('chart',{attrs:{\"locate\":_vm.cityCoordinates}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00e06979\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00e06979\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00e06979\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-00e06979\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!--<router-view/>-->\n    <Home></Home>\n  </div>\n</template>\n\n<script>\nimport Home from './components/home.vue'\n\nexport default {\n  name: 'App',\n  components: {Home}\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Home')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42463d7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-42463d7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42463d7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n//import router from './router'\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  //router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}